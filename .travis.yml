language: r

os: linux
dist: trusty
addons:
  apt:
    packages:
      - libboost-program-options1.55-dev

# cache: packages
r: 
  - bioc-devel
r_build_args: --resave-data
r_packages:
  - covr
  
before_script: 
  - cd .. && git clone --recursive https://github.com/hclimente/gin.git && gin/install_gin.sh
  - export CPLUS_INCLUDE_PATH=`pwd`/gin/build/include:${CPLUS_INCLUDE_PATH}
  - export LIBRARY_PATH=`pwd`/gin/build/lib:${LIBRARY_PATH}
  - cd martini

after_success:
  - Rscript -e 'library(covr);codecov()'
